{{ 'section-studio-flow-landing.css' | asset_url | stylesheet_tag }}

{%- style -%}
  .studio-flow-landing-{{ section.id }} {
    background-color: {{ section.settings.background_color }};
  }
  
  /* Hero Styles */
  .studio-flow-landing-{{ section.id }} .hero-section {
    padding-top: {{ section.settings.hero_padding_top }}px;
    padding-bottom: {{ section.settings.hero_padding_bottom }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .badge {
    background-color: {{ section.settings.badge_background }};
    color: {{ section.settings.badge_color }};
  }
  
  .studio-flow-landing-{{ section.id }} h1 {
    color: {{ section.settings.heading_color }};
    font-size: {{ section.settings.heading_size }}px;
    line-height: {{ section.settings.heading_line_height }};
  }
  
  .studio-flow-landing-{{ section.id }} .subtitle {
    color: {{ section.settings.subtitle_color }};
    font-size: {{ section.settings.subtitle_size }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .cta-button {
    background-color: {{ section.settings.button_background }};
    color: {{ section.settings.button_text_color }};
    border-radius: {{ section.settings.button_border_radius }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .cta-button:hover {
    background-color: {{ section.settings.button_hover_background }};
  }
  
  /* Brands Styles */
  .studio-flow-landing-{{ section.id }} .brands-section {
    padding-top: {{ section.settings.brands_padding_top }}px;
    padding-bottom: {{ section.settings.brands_padding_bottom }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .brands-heading {
    color: {{ section.settings.brands_heading_color }};
    font-size: {{ section.settings.brands_heading_size }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .logo-item {
    filter: grayscale({{ section.settings.grayscale_amount }}%) 
            brightness({{ section.settings.brightness_amount }}%) 
            contrast({{ section.settings.contrast_amount }}%);
    opacity: {{ section.settings.logo_opacity | divided_by: 100.0 }};
  }
  
  .studio-flow-landing-{{ section.id }} .logo-item:hover {
    filter: grayscale(0%) brightness(100%) contrast(100%);
    opacity: 1;
  }
  
  /* Reasons Styles */
  .studio-flow-landing-{{ section.id }} .reasons-section {
    padding-top: {{ section.settings.reasons_padding_top }}px;
    padding-bottom: {{ section.settings.reasons_padding_bottom }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .reasons-heading {
    color: {{ section.settings.reasons_heading_color }};
    font-size: {{ section.settings.reasons_heading_size }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .reason-card {
    background-color: {{ section.settings.card_background }};
    border: {{ section.settings.card_border_width }}px solid {{ section.settings.card_border_color }};
    border-radius: {{ section.settings.card_border_radius }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .reason-number {
    color: {{ section.settings.number_color }};
    font-size: {{ section.settings.number_size }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .reason-title {
    color: {{ section.settings.title_color }};
    font-size: {{ section.settings.title_size }}px;
  }
  
  .studio-flow-landing-{{ section.id }} .reason-description {
    color: {{ section.settings.description_color }};
    font-size: {{ section.settings.description_size }}px;
  }
{%- endstyle -%}

<div class="studio-flow-landing studio-flow-landing-{{ section.id }}">
  
  <!-- HERO SECTION -->
  <section class="hero-section">
    <div class="page-width">
      <div class="hero-container">
        
        {% if section.settings.show_badge %}
          <div class="badge">{{ section.settings.badge_text }}</div>
        {% endif %}
        
        <h1>{{ section.settings.heading }}</h1>
        
        {% if section.settings.subtitle != blank %}
          <p class="subtitle">{{ section.settings.subtitle }}</p>
        {% endif %}
        
        <!-- YouTube Video -->
        <div class="video-wrapper">
          <div class="video-container" id="video-container-{{ section.id }}">
            {% if section.settings.youtube_id != blank %}
              <div id="player-{{ section.id }}" class="youtube-player"></div>
            {% else %}
              <div class="video-placeholder">
                <svg width="80" height="80" viewBox="0 0 24 24" fill="none">
                  <path d="M10 8L16 12L10 16V8Z" fill="currentColor"/>
                  <circle cx="12" cy="12" r="10" stroke="currentColor" stroke-width="2"/>
                </svg>
                <p>Add your YouTube video ID in settings</p>
              </div>
            {% endif %}
          </div>
        </div>
        
        <!-- CTA Button Below Video -->
        <div class="cta-wrapper">
          <a href="{{ section.settings.button_link }}" class="cta-button">
            {{ section.settings.button_text }}
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M7 4L13 10L7 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </div>
        
      </div>
    </div>
  </section>
  
  <!-- TRUSTED BRANDS SECTION -->
  {% if section.settings.show_brands %}
  <section class="brands-section">
    <div class="page-width">
      {% if section.settings.brands_heading != blank %}
        <h3 class="brands-heading">{{ section.settings.brands_heading }}</h3>
      {% endif %}
      
      <div class="logos-container">
        <div class="logos-track">
          {% for block in section.blocks %}
            {% if block.type == 'logo' %}
              <div class="logo-item" {{ block.shopify_attributes }}>
                {% if block.settings.logo_image != blank %}
                  <img 
                    src="{{ block.settings.logo_image | image_url: width: 300 }}"
                    alt="{{ block.settings.alt_text | escape }}"
                    loading="lazy"
                  >
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
          
          <!-- Duplicate for seamless scroll -->
          {% for block in section.blocks %}
            {% if block.type == 'logo' %}
              <div class="logo-item logo-duplicate" aria-hidden="true">
                {% if block.settings.logo_image != blank %}
                  <img 
                    src="{{ block.settings.logo_image | image_url: width: 300 }}"
                    alt="{{ block.settings.alt_text | escape }}"
                    loading="lazy"
                  >
                {% endif %}
              </div>
            {% endif %}
          {% endfor %}
        </div>
      </div>
    </div>
  </section>
  {% endif %}
  
  <!-- 4 REASONS SECTION -->
  {% if section.settings.show_reasons %}
  <section class="reasons-section">
    <div class="page-width">
      {% if section.settings.reasons_heading != blank %}
        <h2 class="reasons-heading">{{ section.settings.reasons_heading }}</h2>
      {% endif %}
      
      <div class="reasons-container">
        {% for block in section.blocks %}
          {% if block.type == 'reason' %}
            <div class="reason-card" {{ block.shopify_attributes }}>
              <div class="reason-number">{{ forloop.index }}.</div>
              <h3 class="reason-title">{{ block.settings.title }}</h3>
              <p class="reason-description">{{ block.settings.description }}</p>
            </div>
          {% endif %}
        {% endfor %}
      </div>
      
      {% if section.settings.show_bottom_cta %}
        <div class="cta-wrapper">
          <a href="{{ section.settings.button_link }}" class="cta-button">
            {{ section.settings.button_text }}
            <svg width="20" height="20" viewBox="0 0 20 20" fill="none">
              <path d="M7 4L13 10L7 16" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
          </a>
        </div>
      {% endif %}
    </div>
  </section>
  {% endif %}
  
</div>

<!-- YouTube IFrame API -->
<script>
(function() {
  const sectionId = '{{ section.id }}';
  const youtubeId = '{{ section.settings.youtube_id }}';
  
  if (!youtubeId) return;
  
  // Load YouTube IFrame API
  if (!window.YT) {
    const tag = document.createElement('script');
    tag.src = 'https://www.youtube.com/iframe_api';
    const firstScriptTag = document.getElementsByTagName('script')[0];
    firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);
  }
  
  // Initialize player
  window.onYouTubeIframeAPIReady = function() {
    new YT.Player('player-' + sectionId, {
      videoId: youtubeId,
      playerVars: {
        autoplay: {{ section.settings.autoplay }},
        controls: 1,
        modestbranding: 1,
        rel: 0,
        showinfo: 0,
        fs: 1,
        playsinline: 1
      },
      events: {
        'onReady': function(event) {
          if (typeof gtag !== 'undefined') {
            gtag('event', 'video_start', {
              'video_title': 'Hero Video'
            });
          }
        },
        'onStateChange': function(event) {
          if (event.data === YT.PlayerState.ENDED) {
            if (typeof gtag !== 'undefined') {
              gtag('event', 'video_complete', {
                'video_title': 'Hero Video'
              });
            }
          }
        }
      }
    });
  };
  
  if (window.YT && window.YT.Player) {
    window.onYouTubeIframeAPIReady();
  }
})();
</script>

{% schema %}
{
  "name": "Studio Flow Landing",
  "settings": [
    {
      "type": "header",
      "content": "Global Settings"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#000000"
    },
    {
      "type": "header",
      "content": "üé¨ HERO SECTION"
    },
    {
      "type": "range",
      "id": "hero_padding_top",
      "min": 20,
      "max": 150,
      "step": 10,
      "unit": "px",
      "label": "Hero Padding Top",
      "default": 60
    },
    {
      "type": "range",
      "id": "hero_padding_bottom",
      "min": 20,
      "max": 150,
      "step": 10,
      "unit": "px",
      "label": "Hero Padding Bottom",
      "default": 40
    },
    {
      "type": "checkbox",
      "id": "show_badge",
      "label": "Show Badge",
      "default": true
    },
    {
      "type": "text",
      "id": "badge_text",
      "label": "Badge Text",
      "default": "only for brands selling +2000 socks / year"
    },
    {
      "type": "color",
      "id": "badge_background",
      "label": "Badge Background",
      "default": "#1a1a1a"
    },
    {
      "type": "color",
      "id": "badge_color",
      "label": "Badge Text Color",
      "default": "#ffffff"
    },
    {
      "type": "textarea",
      "id": "heading",
      "label": "Main Heading",
      "default": "Launch Premium Custom Socks - while 2x Your Margin within 4 Weeks"
    },
    {
      "type": "range",
      "id": "heading_size",
      "min": 32,
      "max": 80,
      "step": 2,
      "unit": "px",
      "label": "Heading Size",
      "default": 56
    },
    {
      "type": "range",
      "id": "heading_line_height",
      "min": 1.0,
      "max": 1.6,
      "step": 0.1,
      "label": "Heading Line Height",
      "default": 1.1
    },
    {
      "type": "color",
      "id": "heading_color",
      "label": "Heading Color",
      "default": "#ffffff"
    },
    {
      "type": "text",
      "id": "subtitle",
      "label": "Subtitle",
      "default": "Watch this video for details & pricing, then click the button to request your free design."
    },
    {
      "type": "range",
      "id": "subtitle_size",
      "min": 14,
      "max": 24,
      "step": 1,
      "unit": "px",
      "label": "Subtitle Size",
      "default": 18
    },
    {
      "type": "color",
      "id": "subtitle_color",
      "label": "Subtitle Color",
      "default": "#cccccc"
    },
    {
      "type": "text",
      "id": "youtube_id",
      "label": "YouTube Video ID",
      "info": "Example: dQw4w9WgXcQ (from youtube.com/watch?v=dQw4w9WgXcQ)"
    },
    {
      "type": "checkbox",
      "id": "autoplay",
      "label": "Autoplay Video",
      "default": false
    },
    {
      "type": "text",
      "id": "button_text",
      "label": "CTA Button Text",
      "default": "Get Started"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "CTA Button Link"
    },
    {
      "type": "color",
      "id": "button_background",
      "label": "Button Background",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "button_text_color",
      "label": "Button Text Color",
      "default": "#000000"
    },
    {
      "type": "color",
      "id": "button_hover_background",
      "label": "Button Hover Background",
      "default": "#f0f0f0"
    },
    {
      "type": "range",
      "id": "button_border_radius",
      "min": 0,
      "max": 50,
      "step": 2,
      "unit": "px",
      "label": "Button Border Radius",
      "default": 8
    },
    {
      "type": "header",
      "content": "üè¢ TRUSTED BRANDS SECTION"
    },
    {
      "type": "checkbox",
      "id": "show_brands",
      "label": "Show Brands Section",
      "default": true
    },
    {
      "type": "range",
      "id": "brands_padding_top",
      "min": 20,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Brands Padding Top",
      "default": 40
    },
    {
      "type": "range",
      "id": "brands_padding_bottom",
      "min": 20,
      "max": 120,
      "step": 10,
      "unit": "px",
      "label": "Brands Padding Bottom",
      "default": 40
    },
    {
      "type": "text",
      "id": "brands_heading",
      "label": "Brands Heading",
      "default": "TRUSTED BY THE BIGGEST BRANDS:"
    },
    {
      "type": "range",
      "id": "brands_heading_size",
      "min": 11,
      "max": 18,
      "step": 1,
      "unit": "px",
      "label": "Brands Heading Size",
      "default": 13
    },
    {
      "type": "color",
      "id": "brands_heading_color",
      "label": "Brands Heading Color",
      "default": "#999999"
    },
    {
      "type": "range",
      "id": "grayscale_amount",
      "min": 0,
      "max": 100,
      "step": 10,
      "unit": "%",
      "label": "Logo Grayscale",
      "default": 100
    },
    {
      "type": "range",
      "id": "brightness_amount",
      "min": 50,
      "max": 200,
      "step": 10,
      "unit": "%",
      "label": "Logo Brightness",
      "default": 180
    },
    {
      "type": "range",
      "id": "contrast_amount",
      "min": 50,
      "max": 150,
      "step": 10,
      "unit": "%",
      "label": "Logo Contrast",
      "default": 100
    },
    {
      "type": "range",
      "id": "logo_opacity",
      "min": 30,
      "max": 100,
      "step": 5,
      "unit": "%",
      "label": "Logo Opacity",
      "default": 50
    },
    {
      "type": "header",
      "content": "‚ú® 4 REASONS SECTION"
    },
    {
      "type": "checkbox",
      "id": "show_reasons",
      "label": "Show Reasons Section",
      "default": true
    },
    {
      "type": "range",
      "id": "reasons_padding_top",
      "min": 40,
      "max": 150,
      "step": 10,
      "unit": "px",
      "label": "Reasons Padding Top",
      "default": 60
    },
    {
      "type": "range",
      "id": "reasons_padding_bottom",
      "min": 40,
      "max": 150,
      "step": 10,
      "unit": "px",
      "label": "Reasons Padding Bottom",
      "default": 60
    },
    {
      "type": "text",
      "id": "reasons_heading",
      "label": "Reasons Heading",
      "default": "4 Reasons To Get Started Today"
    },
    {
      "type": "range",
      "id": "reasons_heading_size",
      "min": 24,
      "max": 48,
      "step": 2,
      "unit": "px",
      "label": "Reasons Heading Size",
      "default": 32
    },
    {
      "type": "color",
      "id": "reasons_heading_color",
      "label": "Reasons Heading Color",
      "default": "#ffffff"
    },
    {
      "type": "color",
      "id": "card_background",
      "label": "Card Background",
      "default": "#0a0a0a"
    },
    {
      "type": "range",
      "id": "card_border_width",
      "min": 0,
      "max": 3,
      "step": 1,
      "unit": "px",
      "label": "Card Border Width",
      "default": 1
    },
    {
      "type": "color",
      "id": "card_border_color",
      "label": "Card Border Color",
      "default": "#222222"
    },
    {
      "type": "range",
      "id": "card_border_radius",
      "min": 0,
      "max": 24,
      "step": 2,
      "unit": "px",
      "label": "Card Border Radius",
      "default": 12
    },
    {
      "type": "color",
      "id": "number_color",
      "label": "Number Color",
      "default": "#666666"
    },
    {
      "type": "range",
      "id": "number_size",
      "min": 32,
      "max": 64,
      "step": 4,
      "unit": "px",
      "label": "Number Size",
      "default": 48
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Reason Title Color",
      "default": "#ffffff"
    },
    {
      "type": "range",
      "id": "title_size",
      "min": 18,
      "max": 32,
      "step": 2,
      "unit": "px",
      "label": "Reason Title Size",
      "default": 22
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Description Color",
      "default": "#aaaaaa"
    },
    {
      "type": "range",
      "id": "description_size",
      "min": 14,
      "max": 20,
      "step": 1,
      "unit": "px",
      "label": "Description Size",
      "default": 16
    },
    {
      "type": "checkbox",
      "id": "show_bottom_cta",
      "label": "Show Bottom CTA Button",
      "default": true
    }
  ],
  "blocks": [
    {
      "type": "logo",
      "name": "Brand Logo",
      "settings": [
        {
          "type": "image_picker",
          "id": "logo_image",
          "label": "Logo Image"
        },
        {
          "type": "text",
          "id": "alt_text",
          "label": "Alt Text",
          "default": "Brand logo"
        }
      ]
    },
    {
      "type": "reason",
      "name": "Reason",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Title",
          "default": "More Output = More Tests = More Winners"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Description",
          "default": "The only way to find winning products faster is to test more of them."
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Studio Flow Landing",
      "blocks": [
        {
          "type": "logo"
        },
        {
          "type": "logo"
        },
        {
          "type": "logo"
        },
        {
          "type": "logo"
        },
        {
          "type": "logo"
        },
        {
          "type": "logo"
        },
        {
          "type": "reason",
          "settings": {
            "title": "More Output = More Tests = More Winners",
            "description": "The only way to find winning products faster is to test more of them. This system lets you produce 10x more without adding headcount."
          }
        },
        {
          "type": "reason",
          "settings": {
            "title": "Quality You Can Actually Use",
            "description": "Most suppliers produce samples you have to redo multiple times. We get it right the first time."
          }
        },
        {
          "type": "reason",
          "settings": {
            "title": "Platforms Demand More Variety",
            "description": "Algorithm changes mean that iterating on the same design isn't enough anymore."
          }
        },
        {
          "type": "reason",
          "settings": {
            "title": "Limited Capacity Per Month",
            "description": "This is a hands-on service. Once capacity is full, new clients join a waiting list."
          }
        }
      ]
    }
  ]
}
{% endschema %}
